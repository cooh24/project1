{% extends 'classnote/base_full_width.html' %}


<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
</head>

{% block main_area %}
<body>
    <h1>산불발생 데이터 분석</h1>
    <!-- {% for data in time_data %} {{ data.time }}, {% endfor %} -->
<!-- {% for data in time_data %} {{ data.sum }}, {% endfor %} -->

    <div class="row mt-3 pt-3">
        <div class="col-md-8" id="chart-wrapper">
            <div class="col-md-12" id="causeChart_div" style="display:block">
                <canvas id="causeChart1" width="500" height="300"></canvas>
            </div>
            <div class="col-md-12" id="monthChart_div" style="display:none">
                <canvas id="monthChart2" width="500" height="300"></canvas>
            </div>
            <div class="col-md-12" id="dayChart_div" style="display:none">
                <canvas id="dayChart3" width="500" height="300"></canvas>
            </div>
            <div class="col-md-12" id="timeChart_div" style="display:none">
                <canvas id="timeChart4" width="500" height="300"></canvas>
            </div>
        </div>
        <div class="col-md-3">
            <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                <div class="btn-group mr-2" role="group" aria-label="First group" id="button-wrapper">
                  <button type="button" onclick="clickbtn1()" class="btn btn-secondary" id="causeChart_btn">1</button>
                  <button type="button" onclick="clickbtn2()" class="btn btn-secondary" id="monthChart_btn">2</button>
                  <button type="button" onclick="clickbtn3()" class="btn btn-secondary" id="dayChart_btn">3</button>
                  <button type="button" onclick="clickbtn4()" class="btn btn-secondary"id="timeChart_btn">4</button>
                </div>
            </div>
            <br/>
            <div id="causeChart_exp" style="display:none">산불발생의 원인에 따른 산불발생 횟수 표현</div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>    
</body>
</html>

 <!-- chart.js의 CDN -->
 <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
 <script>
    //  1. 원인별 산불발생횟수
    const ctx1 = document.getElementById('causeChart1').getContext('2d');
    const causeChart1 = new Chart(ctx1, {
        type: 'bar',
        data: {
            // labels: ['오전', '정오','오후','자정'],
            labels: [{% for data in cause_data %} '{{ data.cause }}', {% endfor %}],
    datasets: [{
        label: '원인별 산불발생 횟수',
        // data: [50, 100],
        data:  [{% for data in cause_data %} {{ data.csum }}, {% endfor %}],
        backgroundColor: [
            'rgba(255, 99, 132, 0.2)',
            'rgba(54, 162, 235, 0.2)',
            'rgba(255, 206, 86, 0.2)',
            'rgba(75, 192, 192, 0.2)',
            // 'rgba(153, 102, 255, 0.2)',
            // 'rgba(255, 159, 64, 0.2)'
        ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                // 'rgba(153, 102, 255, 1)',
                // 'rgba(255, 159, 64, 1)'
            ],
                borderWidth: 1
            }]
        },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
    });
</script>
 <script>
    //  2. 월별 산불발생횟수
    const ctx2 = document.getElementById('monthChart2').getContext('2d');
    const monthChart2 = new Chart(ctx2, {
        type: 'bar',
        data: {
            // labels: ['오전', '정오','오후','자정'],
            labels: [{% for data in month_data %} '{{ data.month }}', {% endfor %}],
    datasets: [{
        label: '월별 산불발생 횟수',
        // data: [50, 100],
        data:  [{% for data in month_data %} {{ data.msum }}, {% endfor %}],
        backgroundColor: [
            'rgba(255, 99, 132, 0.2)',
            'rgba(54, 162, 235, 0.2)',
            'rgba(255, 206, 86, 0.2)',
            'rgba(75, 192, 192, 0.2)',
            // 'rgba(153, 102, 255, 0.2)',
            // 'rgba(255, 159, 64, 0.2)'
        ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                // 'rgba(153, 102, 255, 1)',
                // 'rgba(255, 159, 64, 1)'
            ],
                borderWidth: 1
            }]
        },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
    });
</script>
 <script>
         //  3. 요일별 산불발생횟수
    const ctx3 = document.getElementById('dayChart3').getContext('2d');
    const dayChart3 = new Chart(ctx3, {
        type: 'bar',
        data: {
            // labels: ['오전', '정오','오후','자정'],
            labels: [{% for data in day_data %} '{{ data.day }}', {% endfor %}],
    datasets: [{
        label: '요일별 산불발생 횟수',
        // data: [50, 100],
        data:  [{% for data in day_data %} {{ data.dsum }}, {% endfor %}],
        backgroundColor: [
            'rgba(255, 99, 132, 0.2)',
            'rgba(54, 162, 235, 0.2)',
            'rgba(255, 206, 86, 0.2)',
            'rgba(75, 192, 192, 0.2)',
            // 'rgba(153, 102, 255, 0.2)',
            // 'rgba(255, 159, 64, 0.2)'
        ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                // 'rgba(153, 102, 255, 1)',
                // 'rgba(255, 159, 64, 1)'
            ],
                borderWidth: 1
            }]
        },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
    });
</script>
 <script>
         //  4. 시간별 산불발생횟수
    const ctx4 = document.getElementById('timeChart4').getContext('2d');
    const timeChart4 = new Chart(ctx4, {
        type: 'bar',
        data: {
            // labels: ['오전', '정오','오후','자정'],
            labels: [{% for data in time_data %} '{{ data.time }}', {% endfor %}],
    datasets: [{
        label: '시간별 산불발생 횟수',
        // data: [50, 100],
        data:  [{% for data in time_data %} {{ data.tsum }}, {% endfor %}],
        backgroundColor: [
            'rgba(255, 99, 132, 0.2)',
            'rgba(54, 162, 235, 0.2)',
            'rgba(255, 206, 86, 0.2)',
            'rgba(75, 192, 192, 0.2)',
            // 'rgba(153, 102, 255, 0.2)',
            // 'rgba(255, 159, 64, 0.2)'
        ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                // 'rgba(153, 102, 255, 1)',
                // 'rgba(255, 159, 64, 1)'
            ],
                borderWidth: 1
            }]
        },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
    });
</script>
<script>
    function clickbtn1(){
        document.getElementById("causeChart_div").style.display = "block";
        document.getElementById("causeChart_exp").style.display = "block";
        document.getElementById("monthChart_div").style.display = "none";
        document.getElementById("dayChart_div").style.display = "none";
        document.getElementById("timeChart_div").style.display = "none";
    }
    function clickbtn2(){
        document.getElementById("causeChart_div").style.display = "none";
        document.getElementById("monthChart_div").style.display = "block";
        document.getElementById("dayChart_div").style.display = "none";
        document.getElementById("timeChart_div").style.display = "none";
    }
    function clickbtn3(){
        document.getElementById("causeChart_div").style.display = "none";
        document.getElementById("monthChart_div").style.display = "none";
        document.getElementById("dayChart_div").style.display = "block";
        document.getElementById("timeChart_div").style.display = "none";
    }
    function clickbtn4(){
        document.getElementById("causeChart_div").style.display = "none";
        document.getElementById("monthChart_div").style.display = "none";
        document.getElementById("dayChart_div").style.display = "none";
        document.getElementById("timeChart_div").style.display = "block";
    }
</script>
{% endblock %}
 <!-- <script>
 const data = {
     labels: ['월요일', '화요일', '수요일', '목요일', '금요일', '토요일', '일요일', '공휴일']
           datasets: [{
               label: '요일별 산불발생 횟수'
               data: [50, 100, 150, 200, 250, 300, 350, 400

            //    {x:{{data.dmgarea}}, y:{{data.humidcurr}} },
            //    {x:{{data.dmgarea}}, y:{{data.humidrel}} },
            //    {x:{{data.dmgarea}}, y:{{data.windavg}} },

               ],
               backgroundColor: [
                   'rgba(255, 99, 132, 0.2)',
                   'rgba(54, 162, 235, 0.2)',
                   'rgba(255, 206, 86, 0.2)',
                   'rgba(75, 192, 192, 0.2)',
                   'rgba(153, 102, 255, 0.2)',
                   'rgba(255, 159, 64, 0.2)',
               ],
               borderColor: [
                   'rgba(255, 99, 132, 1)',
                   'rgba(54, 162, 235, 1)',
                   'rgba(255, 206, 86, 1)',
                   'rgba(75, 192, 192, 1)',
                   'rgba(153, 102, 255, 1)',
                   'rgba(255, 159, 64, 1)',
               ],
               borderWidth: 1
           }]
       };
    
    const ctx = document.getElementById('myChart').getContext('2d');

    const config = {
        type: 'bar',
        data,
        options: {
            scales: {
                x: {
                    // beginAtZero: true
                    // min:10
                    // max:50000
                },
                y: {
                    // beginAtZero: true
                    // min:10
                    // max:50000
                }
            }
        },
    };

   const myChart = new Chart(ctx,config);
</script> -->


<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
<script>
    const ctx = document.getElementById('myChart').getContext('2d');
    const myChart = new Chart(ctx, {
        type: 'Scatter',
        data {
            datasets: [{
                label: 'Scatter Dataset',
                pointBackgroundColor : [
                    'yellow', 'blue', 'red', 'green', 'orange','indigo'
                ],
                data: [
                    {x: -10, y: 0},
                    {x: 0, y: 10},
                    {x: 10, y: 5},
                    {x: 0.5, y: 5.5}
                ],
                backgroundColor: 'rgb(255, 99, 132)'
            }]
        }
    });
</script> -->


<!-- const config = {
    type: 'scatter',
    data: data,
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: 'top',
        },
        title: {
          display: true,
          text: 'Chart.js Scatter Chart'
        }
      }
    },
  }; -->